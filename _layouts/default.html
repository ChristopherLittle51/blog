<!DOCTYPE html>
<html lang="en">

  {% include head.html %}

  <body>

    <nav class="nav">
      <div class="nav-container">
        <a href="{{ site.baseurl }}/">
          <h2 class="nav-title">{{ site.title }}</h2>
        </a>
        <button class="nav-toggle" aria-label="toggle navigation" aria-expanded="false">
          <i class="fas fa-bars"></i> <!-- Replaced span with Font Awesome icon -->
        </button>
        <div class="nav-links-wrapper">
          <ul class="nav-main-links">
            {% assign pages_list = site.pages | sort: "title" %}
            {% for node in pages_list %}
              {% if node.title and node.nav %}
                <li>
                  <a href="{{ node.url | relative_url }}">{{ node.title }}</a>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
          <ul class="nav-mobile-additional-links">
            {% if site.social.email %}
              <li>
                <a
                  target="_blank"
                  href="mailto:{{ site.social.email }}"
                  aria-label="Email">
                  <i class="fas fa-envelope"></i>
                </a>
              </li>
            {% endif %}
            {% if site.social.github %}
              <li>
                <a
                  target="_blank"
                  href="{{ site.social.github }}"
                  aria-label="GitHub">
                  <i class="fab fa-github"></i>
                </a>
              </li>
            {% endif %}
            {% if site.social.linkedin %}
              <li>
                <a
                  target="_blank"
                  href="{{ site.social.linkedin }}"
                  aria-label="LinkedIn">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              </li>
            {% endif %}
            <li>
              <button id="fontToggle" aria-label="Toggle font style">
                <span class="font-toggle-text">S</span>
              </button>
            </li>
            <li>
              <button id="darkModeToggle" aria-label="Toggle dark mode">
                <i class="fas fa-moon"></i>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main>
      {{ content }}
    </main>

    <footer>
      <span>
        &copy;
        <time datetime="{{ site.time }}">{{ site.time | date: '%Y' }}</time>
        {{ site.author.name }}. Powered by Jekyll and
        <a href="#">Rain</a>
        theme.
      </span>
    </footer>

    <script>
      const navToggle = document.querySelector('.nav-toggle');
      const navLinksWrapper = document.querySelector('.nav-links-wrapper');

      navToggle.addEventListener('click', () => {
        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true' || false;
        navToggle.setAttribute('aria-expanded', !isExpanded);
        navLinksWrapper.classList.toggle('active');
      });
    </script>
  </body>
</html>